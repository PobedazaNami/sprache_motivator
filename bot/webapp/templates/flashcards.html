<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Flashcards</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <link rel="stylesheet" href="/static/css/flashcards.css?v=20260203_1">
</head>
<body>
    <div id="app">
        <!-- Loading screen -->
        <div id="loading" class="screen active">
            <div class="loader"></div>
            <p id="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>

        <!-- Sets list screen -->
        <div id="sets-screen" class="screen">
            <div class="header">
                <h1 id="sets-title">üìö –ú–æ–∏ –Ω–∞–±–æ—Ä—ã</h1>
                <button id="create-set-btn" class="btn-primary">
                    <span>+</span> <span id="create-set-text">–°–æ–∑–¥–∞—Ç—å –Ω–∞–±–æ—Ä</span>
                </button>
            </div>
            <div id="sets-list" class="sets-list">
                <!-- Sets will be rendered here -->
            </div>
            <div id="no-sets" class="empty-state" style="display: none;">
                <div class="empty-icon">üìù</div>
                <p id="no-sets-text">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –Ω–∞–±–æ—Ä–æ–≤ –∫–∞—Ä—Ç–æ—á–µ–∫</p>
                <p id="no-sets-hint">–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Å–ª–æ–≤!</p>
            </div>
        </div>

        <!-- Set detail screen -->
        <div id="set-screen" class="screen">
            <div class="header">
                <button id="back-to-sets" class="btn-back">‚Üê</button>
                <div class="set-title">
                    <h1 id="set-name"></h1>
                    <button id="edit-set-btn" class="btn-icon" type="button" title="Edit">‚úèÔ∏è</button>
                </div>
            </div>
            <div class="set-actions">
                <button id="study-btn" class="btn-primary btn-large">
                    <span>üìñ</span> <span id="study-text">–ò–∑—É—á–∞—Ç—å</span>
                </button>
                <button id="add-card-btn" class="btn-secondary">
                    <span>+</span> <span id="add-card-text">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É</span>
                </button>
            </div>
            <div id="cards-preview" class="cards-preview">
                <!-- Cards preview will be rendered here -->
            </div>
            <button id="delete-set-btn" class="btn-danger">
                <span id="delete-set-text">üóë –£–¥–∞–ª–∏—Ç—å –Ω–∞–±–æ—Ä</span>
            </button>
        </div>

        <!-- Study screen -->
        <div id="study-screen" class="screen">
            <div class="header">
                <!-- Use back-to-set button as a fallback, but primary exit is the bottom button -->
                <button id="back-to-set" class="btn-back" style="opacity: 0; pointer-events: none;">‚Üê</button>
                <div class="progress-info">
                    <span id="card-counter">1/10</span>
                </div>
                <button id="shuffle-cards" class="btn-icon-only" type="button" title="Shuffle">üîÄ</button>
                <button id="toggle-reverse" class="btn-icon-only" type="button" title="Reverse">‚Üî</button>
            </div>
            
            <div class="card-container">
                <div id="flashcard" class="flashcard">
                    <div class="card-inner">
                        <div class="card-front">
                            <p id="card-front-text"></p>
                        </div>
                        <div class="card-back">
                            <p id="card-back-text"></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="card-example-below" class="example" style="display:none;"></div>
            
            <div class="card-navigation">
                <!-- Check JS for id references; minimalist icons -->
                <button id="prev-card" class="btn-nav-icon" disabled>
                    ‚Üê
                    <span id="prev-text" style="display:none"></span> <!-- Hidden for JS compatibility -->
                </button>
                <button id="next-card" class="btn-nav-icon">
                    ‚Üí
                    <span id="next-text" style="display:none"></span> <!-- Hidden for JS compatibility -->
                </button>
            </div>
            
            <!-- New exit button -->
            <button id="exit-study-mode" class="btn-full-width">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞–±–æ—Ä—É</button>
        </div>

        <!-- Create set modal -->
        <div id="create-set-modal" class="modal">
            <div class="modal-content">
                <h2 id="modal-create-set-title">–°–æ–∑–¥–∞—Ç—å –Ω–∞–±–æ—Ä</h2>
                <input type="text" id="set-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞" maxlength="50">
                <div class="modal-actions">
                    <button id="cancel-create-set" class="btn-secondary" type="button">
                        <span id="cancel-text">–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button id="confirm-create-set" class="btn-primary" type="button">
                        <span id="create-text">–°–æ–∑–¥–∞—Ç—å</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Rename set modal -->
        <div id="rename-set-modal" class="modal">
            <div class="modal-content">
                <h2 id="modal-rename-set-title">–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –Ω–∞–±–æ—Ä</h2>
                <input type="text" id="rename-set-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞" maxlength="50">
                <div class="modal-actions">
                    <button id="cancel-rename-set" class="btn-secondary" type="button">
                        <span id="cancel-text-rename">–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button id="confirm-rename-set" class="btn-primary" type="button">
                        <span id="save-text-rename">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Add card modal -->
        <div id="add-card-modal" class="modal">
            <div class="modal-content">
                <h2 id="modal-add-card-title">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É</h2>
                <textarea id="card-front-input" placeholder="–õ–∏—Ü–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (—Å–ª–æ–≤–æ)" rows="2"></textarea>
                <textarea id="card-back-input" placeholder="–û–±—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (–ø–µ—Ä–µ–≤–æ–¥)" rows="2"></textarea>
                <textarea id="card-example-input" placeholder="–ü—Ä–∏–º–µ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è" rows="2"></textarea>
                <div class="modal-actions">
                    <button id="cancel-add-card" class="btn-secondary" type="button">
                        <span id="cancel-add-text">–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button id="confirm-add-card" class="btn-primary" type="button">
                        <span id="add-text">–î–æ–±–∞–≤–∏—Ç—å</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Edit card modal -->
        <div id="edit-card-modal" class="modal">
             <div class="modal-content">
                <h2 id="modal-edit-card-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É</h2>
                <textarea id="card-front-edit" placeholder="–õ–∏—Ü–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (—Å–ª–æ–≤–æ)" rows="2"></textarea>
                <textarea id="card-back-edit" placeholder="–û–±—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (–ø–µ—Ä–µ–≤–æ–¥)" rows="2"></textarea>
                <textarea id="card-example-edit" placeholder="–ü—Ä–∏–º–µ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è" rows="2"></textarea>
                <div class="modal-actions">
                    <button id="cancel-edit-card" class="btn-secondary" type="button">–û—Ç–º–µ–Ω–∞</button>
                    <button id="confirm-edit-card" class="btn-primary" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>
        
        <!-- Delete confirmation modal -->
        <div id="delete-modal" class="modal">
            <div class="modal-content">
                <h2 id="delete-title">–£–¥–∞–ª–∏—Ç—å –Ω–∞–±–æ—Ä?</h2>
                <p id="delete-warning">–í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —ç—Ç–æ–º –Ω–∞–±–æ—Ä–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.</p>
                <div class="modal-actions">
                    <button id="cancel-delete" class="btn-secondary" type="button">
                        <span id="cancel-delete-text">–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button id="confirm-delete" class="btn-danger" type="button">
                        <span id="confirm-delete-text">–£–¥–∞–ª–∏—Ç—å</span>
                    </button>
                </div>
            </div>
        </div>

    </div>
    <script src="/static/js/flashcards.js?v=20260203_1"></script>
</body>
</html>
